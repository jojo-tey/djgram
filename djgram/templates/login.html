{% comment %} {% extends "base.html" %} {% block body %} {% endcomment %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="{% static '/images/favicon.png'%}" />
    <link rel="icon" href="{% static '/images/favicon.png'%}" />
    <link rel="stylesheet" href="{% static '/bulma/bulma.css'%}" />
    <link rel="stylesheet" href="{% static '/css/style.css' %}" />

    <link
      rel="stylesheet"
      href="{% static 'css/bower_components/font-awesome/css/font-awesome.min.css' %}"
    />
    <link href="{% static '/css/adminLTE.css' %}" rel="stylesheet" />
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>

    <title>{% block title %}{% endblock %}</title>
</head>
<body>
    

    
<div class="column is-4 is-offset-4 login-box">
  <div class="field column">
    <label for="username" class="label">Username</label>
    <div class="control has-icons-left has-icons-right">
      <input
        class="input"
        type="text"
        placeholder="Text input"
        name="username"
        id="username"
      />
      <span class="icon is-small is-left">
        <i class="fa fa-user"></i>
      </span>


      {% comment %} {% if form.errors %} 
      <span class="icon is-small is-right">
        <i class="fa fa-check"></i>
      </span>
      <p class="help is-success">This is wrong username</p>
     {% endif %} {% endcomment %}


    
    </div>
    
  </div>

  <div class="field column">
    <label for="password" class="label">Password</label>
    <div class="control has-icons-left has-icons-right">
      <input
        class="input"
        type="password"
        name="password"
        id="password"
        placeholder="Password input"
      />
      <span class="icon is-small is-left">
        <i class="fa fa-lock"></i>
      </span>


      {% comment %} {% if form.errors %} 
      <span class="icon is-small is-right">
        <i class="fa fa-exclamation-triangle"></i>
      </span>
    <p class="help is-danger">This is wrong password</p>
    {% endif %} {% endcomment %}


    </div>
  </div>


  <div class="field is-grouped column is-centered is-offset-4">
    <div class="control">
      <input type="submit" id="loginButton" class="button is-link" value="Login"></input>
    </div>
    <div class="control">
      <a href="{% url 'register' %}"><button class="button is-link is-light">Register</button></a>
    </div>
  </div>
</div>

<script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"
></script>

<script>
  $(document).ready(function () {
    $("#loginButton").click(function () {
      $.post(
        "/apis/v1/users/login/",
        { username: $("#username").val(), password: $("#password").val() },
        function () {
          window.location = "/";
        }
      ).fail(function (data) {
        alert(data.responseJSON.message);
      });
    });
  });
</script>

</body>
</html>
